<!DOCTYPE html>
<html>
<head>
    <title>Login/Register</title>
    <style>
        .form-container {
            max-width: 400px;
            margin: auto;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="form-container">
        {% if messages %}
        {% for message in messages %}
        <p style="color:red;">{{ message }}</p>
        {% endfor %}
        {% endif %}

        <!-- Login Form (Shown by default) -->
        <form method="post" id="loginForm">
            {% csrf_token %}
            <h2>Login</h2>
            <input type="email" name="email" placeholder="Email" required><br>
            <input type="password" name="password" placeholder="Password" required><br>
            <button type="submit" name="login">Log In</button>
            <p><a href="{% url 'account-recovery' %}">Forgot Password?</a></p>
            <p><a href="#" onclick="toggleForm()">Create Account</a></p>
        </form>

        <!-- Register Form (Initially hidden) -->
        <form method="post" id="registerForm" class="hidden">
            {% csrf_token %}
            <h2>Register</h2>
            <input type="text" name="first_name" placeholder="First Name" required><br>
            <input type="text" name="last_name" placeholder="Last Name" required><br>
            <input type="date" name="dob" required><br>
            <select name="gender" required>
                <option value="M">Masculine</option>
                <option value="F">Feminine</option>
                <option value="O">Other</option>
                <option value="N">Prefer not to say</option>
            </select><br>
            <input type="email" name="email" placeholder="Email" required><br>
            <input type="password" name="password" placeholder="Password" required><br>
            <input type="password" name="confirm_password" placeholder="Confirm Password" required><br>
            <button type="submit" name="register">Register</button>
            <p><a href="#" onclick="toggleForm()">Back to Login</a></p>
        </form>
    </div>

    <script>
        function toggleForm() {
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            loginForm.classList.toggle('hidden');
            registerForm.classList.toggle('hidden');
        }
    </script>
</body>
</html>
